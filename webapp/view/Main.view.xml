<mvc:View controllerName="mrg.strada.controller.Main" displayBlock="true"
	xmlns="sap.m"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:core="sap.ui.core"
	xmlns:table="sap.ui.table" core:require="{
		formatter: 'mrg/strada/model/formatter'
	}">
	<SplitApp id="splitAppContainer" initialDetail="detailPage" initialMaster="listPage">
		<masterPages>
			<Page id="listPage" title="Strada employee list" backgroundDesign="List">
				<customHeader>
					<Toolbar id="toolbarMaster">
						<Title id="titleEmployeesMaster" text="Employee list"></Title>
						<ToolbarSpacer id="toolbarSpacerMaster"></ToolbarSpacer>
						<Button id="buttonRefresh" icon="sap-icon://refresh" type="Transparent" press="onRefreshList"></Button>
					</Toolbar>
				</customHeader>
				<List id="employeeList" headerText="Employees" mode="SingleSelectMaster" selectionChange=".onNavToDetail" items="{ path: 'Northwind>/Employees', events: { dataReceived: '.onDataReceived' } }">
					<StandardListItem id="listItemTemplate" title="{Northwind>FirstName}" description="{Northwind>Country}" icon="{path: 'Northwind>Photo', formatter: 'formatter.formatPhoto'}"></StandardListItem>
				</List>
			</Page>
		</masterPages>
		<detailPages>
			<Page id="detailPage" title="Employee details" backgroundDesign="Solid">
				<layout:SimpleForm xmlns:layout="sap.ui.layout.form" editable="false" labelSpanL="4" columnsM="1" columnsL="2">
					<Label text="Photo"/>
					<Image src="{path: 'Northwind>Photo', formatter: 'formatter.formatPhoto'}" width="120px" height="120px" />
					<Label text="First Name"/>
					<Text text="{Northwind>FirstName}"/>
					<Label text="Last Name"/>
					<Text text="{Northwind>LastName}"/>
					<Label text="Title"/>
					<Text text="{Northwind>Title}"/>
					<Label text="Postal Code"/>
					<Text text="{Northwind>PostalCode}"/>
					<Label text="Region"/>
					<Text text="{Northwind>Region}"/>
					<Label text="Country"/>
					<Text text="{Northwind>Country}"/>
				</layout:SimpleForm>
				<Table id="employeeOrdersTab" headerText="Employee's Orders" items="{ path: 'Northwind>Orders', sorter: { path: 'Northwind>OrderDate', descending: true }}" alternateRowColors="true"
				       growing="true" growingThreshold="30">
					<columns>
						<Column id="columnEmpId">
							<Label id="columnLabelEmpId" text="Emp. Id"></Label>
						</Column>
						<Column id="columnCusId">
							<Label id="columnLabelCusId" text="Cus. Id"></Label>
						</Column>
						<Column id="columnDate">
							<Label id="columnLabelDate" text="Order Date"></Label>
						</Column>
						<Column id="columnShipName">
							<Label id="columnLabelShipName" text="Ship"></Label>
						</Column>
						<Column id="columnShipAddress">
							<Label id="columnLabelShipAddress" text="Ship Address"></Label>
						</Column>
					</columns>
					<items>
						<ColumnListItem id="EmpDetailsOrderItem">
							<cells>
								<ObjectIdentifier title="{Northwind>OrderID}"></ObjectIdentifier>
								<ObjectIdentifier title="{Northwind>CustomerID}"></ObjectIdentifier>
								<ObjectIdentifier title="{path: 'Northwind>OrderDate', type: 'sap.ui.model.odata.type.Date'}"></ObjectIdentifier>
								<Text text="{Northwind>ShipName}"></Text>
								<Text text="{Northwind>ShipAddress}"></Text>
							</cells>
						</ColumnListItem>
					</items>
				</Table>
			</Page>
		</detailPages>
	</SplitApp>
</mvc:View> 